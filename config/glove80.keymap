#include <behaviors.dtsi>
#include <dt-bindings/zmk/keys.h>
#include <dt-bindings/zmk/bt.h>
#include <dt-bindings/zmk/ext_power.h>
#include <dt-bindings/zmk/outputs.h>
#include <dt-bindings/zmk/rgb.h>
// mouse import
#include <dt-bindings/zmk/mouse.h>

// helpers
#include "zmk-helpers/helper.h"
// Source desired key-position labels
#include "zmk-helpers/key-labels/glove80.h"

// layers
#define _HOM 0
#define _NAV 1
#define _GAM 2

#define __________ &trans
#define XXXXXXXXXX &none

// syntax shortening
#define BRIDN   C_BRI_DN
#define BRIUP   C_BRI_UP
#define PREV    C_PREV
#define NEXT    C_NEXT
#define MUTE    C_MUTE
#define VOLDN   C_VOL_DN
#define VOLUP   C_VOL_UP
#define PSBRK   PAUSE_BREAK
#define NUM     KP_NUM
#define NPEQ    KP_EQUAL
#define NPDV    KP_DIVIDE
#define NPMP    KP_MULTIPLY
#define NPMN    KP_MINUS
#define NPPL    KP_PLUS
#define NPEN    KP_ENTER
#define NPDT    KP_DOT
#define CMENU   K_CMENU
#define CLR     BT_CLR
#define BL bootloader

//left hand mod shortenings
#define CL      LCTRL
#define SL      LSHFT
#define AL      LALT
#define GL      LGUI

//right hand mod shortening
#define CR      RCTRL
#define SR      RSHFT
#define AR      RALT
#define GR      RGUI

// customs
#define NSHFT   RSHIFT TAB
#define NCTRL   LCTRL SPC
#define SFSP    LSHFT SPC

#define BLU        170
#define GRN         85
#define RED          0
#define PNK        260

#define SAT        100  // saturation
#define MSAT        50  // saturation
#define BRT         25  // brightness


#define R3_L    LT5 LT4 LT3 LT2 LT1 LT0
#define R3_R    RT0 RT1 RT2 RT3 RT4 RT5

#define R4_L    LM5 LM4 LM3 LM2 LM1 LM0
#define R4_R    RM0 RM1 RM2 RM3 RM4 RM5

#define KEYS_L  LC5 LC4 LC3 LC2 LC1 LN5 LN4 LN3 LN2 LN1 LN0 LM5 LM4 LM3 LM2 LM1 LM0 LB5 LB4 LB3 LB2 LB1 LB0 LF5 LF4 LF3 LF2 LF1 // left-hand keys
#define KEYS_R  RC5 RC4 RC3 RC2 RC1 RN5 RN4 RN3 RN2 RN1 RN0 RM5 RM4 RM3 RM2 RM1 RM0 RB5 RB4 RB3 RB2 RB1 RB0 RF5 RF4 RF3 RF2 RF1 // rght-hand keys
#define THUMBS  LH5 LH4 LH3 RH3 RH4 RH5 LH2 LH1 LH0 RH0 RH1 RH2


/* left-hand HRMs */
ZMK_HOLD_TAP(hml,
    flavor = "balanced";
    tapping-term-ms = <280>;
    quick-tap-ms = <200>;                // repeat on tap-into-hold
    require-prior-idle-ms = <150>;
    bindings = <&kp>, <&kp>;
    hold-trigger-key-positions = <KEYS_R R3_R THUMBS>;
    hold-trigger-on-release;             // delay positional check until key-release
    // hold-while-undecided;
)
//same but not using unecied
ZMK_HOLD_TAP(hul,
    flavor = "balanced";
    tapping-term-ms = <280>;
    quick-tap-ms = <200>;                // repeat on tap-into-hold
    require-prior-idle-ms = <150>;
    bindings = <&kp>, <&kp>;
    hold-trigger-key-positions = <KEYS_R R3_R THUMBS>;
    // hold-trigger-on-release;             // delay positional check until key-release
)

/* right-hand HRMs */
ZMK_HOLD_TAP(hmr,
    flavor = "balanced";
    tapping-term-ms = <280>;
    quick-tap-ms = <200>;                // repeat on tap-into-hold
    require-prior-idle-ms = <150>;
    bindings = <&kp>, <&kp>;
    hold-trigger-key-positions = <KEYS_L R3_L THUMBS>;
    hold-trigger-on-release;             // delay positional check until key-release
    // hold-while-undecided;
)
//same but not using undecideds
ZMK_HOLD_TAP(hur,
    flavor = "balanced";
    tapping-term-ms = <280>;
    quick-tap-ms = <200>;                // repeat on tap-into-hold
    require-prior-idle-ms = <150>;
    bindings = <&kp>, <&kp>;
    hold-trigger-key-positions = <KEYS_L R3_L THUMBS>;
    hold-trigger-on-release;             // delay positional check until key-release
)

// [Left Thumb] Tap: Space, Hold: MO Nav
ZMK_HOLD_TAP(lct,
    flavor = "hold-preferred";
    tapping-term-ms = <200>;
    quick-tap-ms = <0>;                // repeat on tap-into-hold
    require-prior-idle-ms = <160>;     // formerly 140, then 150 getting too many false positives
    bindings = <&htonmo>, <&nspc>;
    // hold-trigger-key-positions = <R4_L R4_R RM0 RM5 RH2 RH4 RH5 RT1 RT2 RT3 RT4 LT3 LT2 LT1>;
                                //backspace       Shift/space
)

/*                               GLOVE80 KEY MATRIX / LAYOUT MAPPING
 ╭────────────────────╮       ╭────────────────────╮ ╭────────────────────╮       ╭────────────────────╮
 │  0   1   2   3   4 ╰───┬───╯  5   6   7   8   9 │ │ LC5 LC4 LC3 LC2 LC1╰───┬───╯ RC1 RC2 RC3 RC4 RC5│
 │ 10  11  12  13  14  15 │ 16  17  18  19  20  21 │ │ LN5 LN4 LN3 LN2 LN1 LN0│ RN0 RN1 RN2 RN3 RN4 RN5│
 │ 22  23  24  25  26  27 │ 28  29  30  31  32  33 │ │ LT5 LT4 LT3 LT2 LT1 LT0│ RT0 RT1 RT2 RT3 RT4 RT5│
 │ 34  35  36  37  38  39 │ 40  41  42  43  44  45 │ │ LM5 LM4 LM3 LM2 LM1 LM0│ RM0 RM1 RM2 RM3 RM4 RM5│
 │ 46  47  48  49  50  51 │ 58  59  60  61  62  63 │ │ LB5 LB4 LB3 LB2 LB1 LB0│ RB0 RB1 RB2 RB3 RB4 RB5│
 │ 64  65  66  67  68 ╭───┴───╮ 75  76  77  78  79 │ │ LF5 LF4 LF3 LF2 LF1╭───┴───╮ RF1 RF2 RF3 RF4 RF5│
 ╰───────────┬────────┴───┬───┴────────┬───────────╯ ╰───────────┬────────┴───┬───┴────────┬───────────╯
             │ 52  53  54 │ 55  56  57 │                         │ LH5 LH4 LH3│ RH3 RH4 RH5│
             │ 69  70  71 │ 72  73  74 │                         │ LH2 LH1 LH0│ RH0 RH1 RH2│
             ╰────────────┴────────────╯                         ╰────────────┴────────────╯
 */

// [Right Thumb] Tap: Tab, Hold: Shift
ZMK_HOLD_TAP(lsh,
    flavor = "hold-preferred";
    tapping-term-ms = <200>;
    bindings = <&kp>, <&ntab>;
    hold-while-undecided;
)

// [Right Thumb] Tap: Space, Hold: Shift
ZMK_HOLD_TAP(lsr,
    flavor = "hold-preferred";
    tapping-term-ms = <200>;
    bindings = <&kp>, <&nspc>;
    hold-while-undecided;
)

/ {
    macros {
        // Bluetoth Profiles
        // -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        bt_0: bt_profile_macro_0 {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&out OUT_BLE>,
                  <&bt BT_SEL 0>;
        };
        bt_1: bt_profile_macro_1 {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&out OUT_BLE>,
                  <&bt BT_SEL 1>;
        };
        bt_2: bt_profile_macro_2 {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&out OUT_BLE>,
                  <&bt BT_SEL 2>;
        };
        bt_3: bt_profile_macro_3 {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&out OUT_BLE>,
                  <&bt BT_SEL 3>;
        };

        // Layer Toggles with Colors
        // -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        to_hom: to_hom {
            compatible = "zmk,behavior-macro";
            wait-ms = <0>;
            tap-ms = <0>;
            #binding-cells = <0>;
            bindings
                = <&macro_press &to _HOM>
                , <&macro_tap &rgb_ug RGB_COLOR_HSB(BLU, SAT, BRT)>
                ;
        };
        to_nav: to_nav {
            compatible = "zmk,behavior-macro";
            wait-ms = <0>;
            tap-ms = <0>;
            #binding-cells = <0>;
            bindings
                = <&macro_press &to _NAV>
                , <&macro_tap &rgb_ug RGB_COLOR_HSB(RED, SAT, BRT)>
                ;
        };
        to_gam: to_gam {
            compatible = "zmk,behavior-macro";
            wait-ms = <0>;
            tap-ms = <0>;
            #binding-cells = <0>;
            bindings
                = <&macro_press &to _GAM>
                , <&macro_tap &rgb_ug RGB_COLOR_HSB(PNK, SAT, BRT)>
                ;
        };
        htonmo: home_to_nav_momentary {
            compatible = "zmk,behavior-macro";
            wait-ms = <0>;
            tap-ms = <0>;
            #binding-cells = <0>;
            bindings
                = <&macro_tap &rgb_ug RGB_COLOR_HSB(RED, SAT, BRT)>
                , <&macro_press &mo _NAV>
                , <&macro_pause_for_release>
                , <&macro_release &mo _NAV>
                , <&macro_tap &rgb_ug RGB_COLOR_HSB(BLU, SAT, BRT)>
                ;
        };

        // Macros
        // -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        cntrc: click_center {                               //                                          (Click Center of Page)
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&macro_wait_time 50>
                , <&macro_tap &kp F20 &mkp LCLK>
                ;
        };
        sidec: click_side {                                 //                                          (Click Left Side of Page)
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&macro_wait_time 50>
                , <&macro_tap &kp F19 &mkp LCLK>
                ;
        };
        insp: insert_space{                                 //                                          (Space and Move Cursor Left)
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&macro_wait_time 10>
                , <&macro_tap &kp SPACE &kp LEFT>
                ;
        };
        kalshi: kalshi_buy{                                 //                                          (Enter + Tab + Tab + Enter)
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&kp F17>
                , <&kp ENTER>
                , <&macro_wait_time 200>
                , <&kp F17>
                , <&kp F17>
                , <&kp ENTER>
                ;
        };
        updir: up_directory {                               //                                          (Send "../")
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings
                = <&macro_wait_time 1>
                , <&macro_tap &kp DOT &kp DOT &kp FSLH>
                ;
        };
        dblsp: double_space {                               //                                          (Send "  ")
            compatible = "zmk,behavior-macro";
            wait-ms = <50>;
            tap-ms = <50>;
            #binding-cells = <0>;
            bindings
                = <&macro_tap &kp SPC &kp SPC>
                ;
        };
        turboc: turbo_click {                               //                                          (17 Clicks)
            compatible = "zmk,behavior-macro";
            wait-ms = <30>;
            tap-ms = <30>;
            #binding-cells = <0>;
            bindings
                = <&macro_tap &mkp LCLK &mkp LCLK &mkp LCLK &mkp LCLK &mkp LCLK &mkp LCLK &mkp LCLK &mkp LCLK &mkp LCLK &mkp LCLK &mkp LCLK &mkp LCLK &mkp LCLK &mkp LCLK &mkp LCLK &mkp LCLK &mkp LCLK >
                ;
        };
        mc_selw: mc_select_word {                          //                                          (Select Word)
            compatible = "zmk,behavior-macro";
            wait-ms = <0>;
            tap-ms = <0>;
            #binding-cells = <0>;
            bindings
                = <&macro_tap &kp LA(LEFT) &kp LA(RIGHT)>
                , <&macro_press &kp LA(LS(LEFT))>
                , <&macro_pause_for_release>
                , <&macro_release &kp LA(LS(LEFT))>
                ;
        };
        sheet: google_sheet_button {                               //                                          (17 Clicks)
            compatible = "zmk,behavior-macro";
            wait-ms = <30>;
            tap-ms = <30>;
            #binding-cells = <0>;
            bindings
                = <&macro_tap &kp UP &kp RIGHT &kp RIGHT &kp RIGHT &kp LA(ENTER)>
                ;
        };
        eqsp: equals_space {                                 //                                          (_)
            compatible = "zmk,behavior-macro";
            wait-ms = <0>;
            tap-ms = <0>;
            #binding-cells = <0>;
            bindings
                = <&kp EQUAL &kp LEFT >
                ;
        };


        // -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    };

    behaviors {
        //  MOD IRRELEVANT
        // -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        colon: colon {                                      // :
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp LS(SEMI)>, <&kp LS(SEMI)>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
        l_curl: left_curly_bracket {                        // {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp LS(LBKT)>, <&kp LS(LBKT)>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
        r_curl: right_curly_bracket {                       // }
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp LS(RBKT)>, <&kp LS(RBKT)>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
        tilde: tilde {                                      // ~
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp LS(GRAVE)>, <&kp LS(GRAVE)>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
        pipe: pipe {                                        // |
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp LS(BSLH)>, <&kp LS(BSLH)>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
        tmux: tmux {                          //                                          (Send Window Right)
            compatible = "zmk,behavior-macro";
            wait-ms = <0>;
            tap-ms = <0>;
            #binding-cells = <0>;
            bindings
                = <&kp LC(B)>
                ;
        };
        //  SHIFT
        // -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        nleft: new_left_arrow {                             // LSFT  + Left  = CTRL + SHFT + TAB        (Move Tab Right)
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp LEFT>, <&kp LC(LS(TAB))>;
            mods = <(MOD_LSFT)>;
        };
        nright: new_right_arrow {                           // LSFT  + Right = CTRL + TAB               (Move Tab Right)
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp RIGHT>, <&kp LC(TAB)>;
            mods = <(MOD_LSFT)>;
        };
        clickr: clicker {                                   // Shift + clickr= click left               (Click Left of Screen)
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&cntrc>, <&sidec>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
        nbspc: new_backspace {                              // Shift + BSPC  = DELETE                   (Delete)
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp BSPC>, <&kp DEL>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
        f_4_5: f_4_5 {                                      // Shift + Home  = Firefox Tab Back         (Firefox Tab Back)
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp F4>, <&kp F5>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
        undrex: undr_or_exclamation {                      // Ctrl  +  .    =  )                       (Right Parinthesis)
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp LS(MINUS)>, <&kp LS(N1)>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
        comortmux: comma_or_tmux {                      // Ctrl  +  .    =  )                       (Right Parinthesis)
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&tmux>, <&kp COMMA>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
        //  CONTROL
        // -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        ntab: new_tab {                                     // Ctl   + Space = CTL + WIN + Right        (Move Desktop Right)
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp TAB>, <&kp LC(LG(LEFT))>;
            mods = <(MOD_LCTL|MOD_RCTL)>;
        };
        nspc: new_space {                                   // Ctrl  + Space = CTL + WIN + Left         (Move Desktop Left)
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&nspci>, <&kp LC(LG(RIGHT))>;
            mods = <(MOD_LCTL)>;
        };
        ncomma: new_comma {                                 // Ctrl  +  ,    =  (                       (Left Parinthesis)
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp COMMA>, <&kp LS(N9)>;
            mods = <(MOD_LCTL|MOD_RCTL)>;
        };
        nperiod: new_period {                               // Ctrl  +  .    =  )                       (Right Parinthesis)
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp DOT>, <&kp LS(N0)>;
            mods = <(MOD_LCTL|MOD_RCTL)>;
        };
        tblf: tab_left {                                   //                                          (Move Left a Tab)
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp LC(LS(TAB))>, <&kp LC(LS(TAB))>;
            mods = <(MOD_LCTL|MOD_RCTL)>;
        };
        tbrt: tab_right {                                  //                                          (Move Right a Tab)
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp LC(TAB)>, <&kp LC(TAB)>;
            mods = <(MOD_LCTL|MOD_RCTL)>;
        };
        // GUI
        // -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        nspci: new_space_intermediate {                     // Ctrl  + Space = CTL + WIN + Left         (Move Desktop Left)
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp SPC>, <&kp LC(B)>;
            mods = <(MOD_LGUI)>;
        };
    };

    keymap {
        compatible = "zmk,keymap";

        _HOM {
            bindings = <
            // ┌──────────┬──────────┬──────────┬──────────┬──────────┐                                                                                         ┌──────────┬──────────┬──────────┬──────────┬──────────┐
            // |    F1    |    F2    |    F3    |    F4    |    F5    |                                                                                         |    F6    |    F7    |    F8    |    F9    |    F10   |
                &kp F1     &kp F2     &kp F3      &kp F4    &kp F5                                                                                               &kp F6     &kp F7     &kp F8     &kp F9     &kp F10
            // ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┐                                                                   ┌──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
            // |   GUI    |    1     |    2     |    3     |    4     |    5     |                                                                   |    6     |    7     |    8     |    9     |    0     |    \     |
                __________ __________ __________ __________ __________ __________                                                                     __________ __________ __________ __________ __________ __________
            // ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤                                                                   ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
            // |    -     |    Q     |    W     |    E     |    R     |    T     |                                                                   |    Y     |    U     |    I     |    O     |    P     |    =     |
           &rgb_ug RGB_TOG &kp Q      &kp W      &kp E      &kp R      &kp T                                                                          &kp Y      &kp U      &kp I      &kp O      &kp P      __________
            // ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤                                                                   ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
            // |   MENU   |    A     |    S     |    D     |    F     |    G     |                                                                   |    H     |    J     |    K     |    L     |    '     |  ENTER   |
                &kp K_APP  &hml SR A  &hml GL S  &hul AL D  &hml CL F  &kp G                                                                          &kp H      &hmr CR J  &hur AR K  &hmr GR L  &hmr SR SQT &kp ENTER
            // ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┬──────────┬──────────┐ ┌──────────┬──────────┬──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
            // |    `     |    Z     |    X     |    C     |    V     |    B     |   PGUP   |   PGDN   |  DELETE  | |  System  |   HOME   |   END    |    N     |    M     |    ,     |    .     |    /     | Control  |
                __________ &kp Z      &kp X      &kp C      &kp V      &kp B      &kp PG_UP  &kp PG_DN  &kp DEL      &kp C_PP   &kp HOME   &kp END    &kp N      &kp M      &kp COMMA  &kp DOT    &kp FSLH   __________
            // ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤ ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
            // |  LAYER   |   DOWN   |    UP    |   LEFT   |  RIGHT   |          |  SHIFT   |    ESC   |  ENTER   | |    F4    |BACKSPACE |  SPACE   |          |   DOWN   |    UP    |  LEFT    |  RIGHT   |  LAYER   |
                &to_gam    &kp DOWN   &kp UP     &nleft     &nright               &lsh SL 0  &kp ESC    &kp ENTER    &f_4_5     &nbspc     &lct CL 0             &kp DOWN   &kp UP     &nleft     &nright    &to_nav
            // └──────────┴──────────┴──────────┴──────────┴──────────┘          └──────────┴──────────┴──────────┘ └──────────┴──────────┴──────────┘          └──────────┴──────────┴──────────┴──────────┴──────────┘
            >;
        };
        
        _NAV {
            bindings = <
            // ┌──────────┬──────────┬──────────┬──────────┬──────────┐                                                                                         ┌──────────┬──────────┬──────────┬──────────┬──────────┐
            // |    F1    |    F2    |    F3    |    F4    |    F5    |                                                                                         |    F6    |    F7    |    F8    |    F9    |    F10   |
                &BL        __________ __________ __________ __________                                                                                           __________ __________ __________ __________ &BL
            // ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┐                                                                   ┌──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
            // |   GUI    |    1     |    2     |    3     |    4     |    5     |                                                                   |    6     |    7     |    8     |    9     |    0     |    \     |
                &bt_0      &bt_1      &bt_2      &sheet     __________ __________                                                                     __________ __________ __________ __________ __________ __________
            // ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤                                                                   ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
            // |    -     |    Q     |    W     |    E     |    R     |    T     |                                                                   |    Y     |    U     |    I     |    O     |    P     |    =     |
                __________ &kp GRAVE  &tilde     &kp LBKT   &kp RBKT   &updir                                                                         &kp MINUS  &undrex    &colon     &pipe      &kp BSLH   __________
            // ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤                                                                   ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
            // |   MENU   |    A     |    S     |    D     |    F     |    G     |                                                                   |    H     |    J     |    K     |    L     |    '     |  ENTER   |
                &clickr    &hml SR N1 &hml GL N2 &hul AL N3 &hml CL N4 &kp N5                                                                         &kp N6     &hmr CR N7 &hur AR N8 &hmr GR N9 &hmr SR N0 __________
            // ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┬──────────┬──────────┐ ┌──────────┬──────────┬──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
            // |    `     |    Z     |    X     |    C     |    V     |    B     |   PGUP   |   PGDN   |  DELETE  | |  System  |   HOME   |   END    |    N     |    M     |    ,     |    .     |    /     | Control  |
                __________ &sheet     &kp SEMI   &l_curl    &r_curl    &insp      &kp F17    &kp F18    &kalshi      __________ __________ __________ &eqsp      &kp EQUAL  &comortmux __________ __________ __________
            // ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤ ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
            // |  LAYER   |   DOWN   |    UP    |   LEFT   |  RIGHT   |          |  SHIFT   |    ESC   |  ENTER   | |    F4    |BACKSPACE |  SPACE   |          |   DOWN   |    UP    |  LEFT    |  RIGHT   |  LAYER   |
                &to_hom    &kp VOLDN  &kp VOLUP  &kp PREV   &kp NEXT              &lsr SL 0  __________ __________   __________ __________ __________            &kp VOLDN  &kp VOLUP  &tblf      &tbrt      &to_hom
            // └──────────┴──────────┴──────────┴──────────┴──────────┘          └──────────┴──────────┴──────────┘ └──────────┴──────────┴──────────┘          └──────────┴──────────┴──────────┴──────────┴──────────┘
            >;
        };

        _GAM {
            bindings = <
            // ┌──────────┬──────────┬──────────┬──────────┬──────────┐                                                                                         ┌──────────┬──────────┬──────────┬──────────┬──────────┐
            // |    F1    |    F2    |    F3    |    F4    |    F5    |                                                                                         |    F6    |    F7    |    F8    |    F9    |    F10   |
                &bt_0      &bt_1      &bt_2      &bt_3      &out OUT_USB                                                                                         XXXXXXXXXX XXXXXXXXXX XXXXXXXXXX XXXXXXXXXX XXXXXXXXXX
            // ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┐                                                                   ┌──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
            // |   GUI    |    1     |    2     |    3     |    4     |    5     |                                                                   |    6     |    7     |    8     |    9     |    0     |    \     |
                XXXXXXXXXX XXXXXXXXXX XXXXXXXXXX XXXXXXXXXX XXXXXXXXXX XXXXXXXXXX                                                                     XXXXXXXXXX XXXXXXXXXX XXXXXXXXXX XXXXXXXXXX XXXXXXXXXX XXXXXXXXXX
            // ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤                                                                   ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
            // |    -     |    Q     |    W     |    E     |    R     |    T     |                                                                   |    Y     |    U     |    I     |    O     |    P     |    =     |
                &kp TAB    &kp ESC    &kp TAB    &kp W      &dblsp     XXXXXXXXXX                                                                     XXXXXXXXXX &kp E      &kp UP     &kp TAB    &kp ESC    &kp TAB
            // ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤                                                                   ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
            // |   MENU   |    A     |    S     |    D     |    F     |    G     |                                                                   |    H     |    J     |    K     |    L     |    '     |  ENTER   |
                &kp ENTER  &kp TAB    &kp A      &kp S      &kp D      &kp LSHIFT                                                                     &kp RSHIFT &kp LEFT   &kp DOWN   &kp RIGHT  &kp TAB    &kp ENTER
            // ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┬──────────┬──────────┐ ┌──────────┬──────────┬──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
            // |    `     |    Z     |    X     |    C     |    V     |    B     |   PGUP   |   PGDN   |  DELETE  | |  System  |   HOME   |   END    |    N     |    M     |    ,     |    .     |    /     | Control  |
                XXXXXXXXXX XXXXXXXXXX &kp CR     &kp SL     &turboc    &kp TAB    &dblsp     __________ __________   __________ __________ &dblsp     &kp TAB    &turboc    &kp SL     &kp CR     XXXXXXXXXX XXXXXXXXXX
            // ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤ ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
            // |  LAYER   |   DOWN   |    UP    |   LEFT   |  RIGHT   |          |  SHIFT   |    ESC   |  ENTER   | |    F4    |BACKSPACE |  SPACE   |          |   DOWN   |    UP    |  LEFT    |  RIGHT   |  LAYER   |
                &to_hom    XXXXXXXXXX XXXXXXXXXX XXXXXXXXXX XXXXXXXXXX            &kp SPACE  &kp ESC    &kp ENTER    __________ &kp ENTER  &kp SPACE             &turboc    XXXXXXXXXX XXXXXXXXXX XXXXXXXXXX &to_hom
            // └──────────┴──────────┴──────────┴──────────┴──────────┘          └──────────┴──────────┴──────────┘ └──────────┴──────────┴──────────┘          └──────────┴──────────┴──────────┴──────────┴──────────┘
            >;
        };
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    };
};
